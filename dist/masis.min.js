(function(){var t;t=function(){function t(t,e){var r,n,s;return this.options=null!=e?e:{},r=document.querySelectorAll(t),s=[],Array.prototype.forEach.call(r,function(t){return function(e,r){return s.push(t._init(e))}}(this)),n=s.length,n?1===n?s[0]:void 0:null}return t.prototype._init=function(t){return this.element=t,this.populate()},t.prototype.populate=function(){var t,e,r,n;for(this.children=[],n=this.element.children,r=0,e=n.length;e>r;r++)t=n[r],8!==t.nodeType&&this.children.push(t);return this.actives=this.children,this.view()},t.prototype.view=function(t,e){return null==t&&(t=0),null==e&&(e=0),t=parseInt(t),Array.prototype.forEach.call(this.children,function(t){return t.style.display="none"}),Array.prototype.forEach.call(this.actives,function(r){return function(r,n){return!t||t&&n>=e&&t+e>n?r.style.display="":void 0}}(this)),this},t}(),this.Masis=t,t.prototype.filter=function(t){var e,r,n,s,l,i;if(null==t&&(t="*"),"*"===t)this.actives=this.children;else{for(s=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)},l=[],i=this.actives,n=0,r=i.length;r>n;n++)e=i[n],s(e,t)&&l.push(e);this.actives=l}return this.view()},t.prototype.lazy=function(t,e,r){var n,s,l;return null==t&&(t=0),null==e&&(e="data-src"),null==r&&(r=null),l=window.innerHeight||document.documentElement.clientHeight,n=this.element.querySelectorAll("img["+e+"]"),s=function(s){return function(){return n=s.element.querySelectorAll("img["+e+"]"),Array.prototype.forEach.call(n,function(n){var s,i;return s=n.getBoundingClientRect(),-t<=(i=s.top-t)&&l>=i?(n.setAttribute("src",n.getAttribute(e)),n.removeAttribute(e),n.addEventListener("load",function(){return this.style.opacity=1,null!=r?r(n):void 0},!1)):void 0})}}(this),window.addEventListener("scroll",function(){return s()},!1),s()},t.prototype.position=function(t){var e,r,n,s,l,i;for(null==t&&(t={}),null==t.pad&&(t.pad=1),i=parseInt(this.element.offsetWidth),this.element.style.position="relative",e=[],r=n=0,l=i;l>=0?l>=n:n>=l;r=l>=0?++n:--n)e[r]=0;return s=function(e,n,s){var l;for(r=0,l=s[e];(r+=t.pad)<n;)l<s[e+r]&&(l=s[e+r]);return l},Array.prototype.forEach.call(this.actives,function(r){return function(r,n){var l,o,a,u,p,c,h,d,f,y,v,g;for(r.style.position="absolute",c=getComputedStyle(r),p=r.getBoundingClientRect(),o=parseInt(p.width)+parseInt(c.marginLeft)+parseInt(c.marginRight),l=parseInt(p.height)+parseInt(c.marginTop)+parseInt(c.marginBottom),g=0,f=0,d=1/0,a=d;i>=f;){for(y=f-t.pad,h=f+o;y++<=h;)u=y+o,i>=u&&(a=l+s(y,o,e),d>a&&(d=a,g=y));f+=o}for(r.style.left=g+"px",r.style.top=d-l+"px",f=o,v=[];f--;)v.push(e[f+g]=d);return v}}(this)),this.element.style.height=Math.max.apply(Math,e)+"px",this},t.prototype.scroll=function(t){var e,r,n,s,l,i,o,a,u,p,c,h,d,f,y,v,g,m,w,I,L,x;return null==t&&(t={}),null==t.gutter&&(t.gutter=10),null==t.pad&&(t.pad=10),o=this.element,o.innerHTML='<div class="mscr-content">'+o.innerHTML+"</div>",o.innerHTML+='<div class="mscr-track-h"><div class="mscr-drag-h"/></div>',o.innerHTML+='<div class="mscr-track-v"><div class="mscr-drag-v"/></div>',r=o.querySelector(".mscr-content"),r.style.width=o.offsetWidth+"px",r.style.height=o.offsetHeight+"px",null!=t.height&&(o.style.height=t.height),null!=t.width&&(o.style.width=t.width),n=parseInt(r.offsetWidth),e=parseInt(r.offsetHeight),a=parseInt(o.offsetWidth),i=parseInt(o.offsetHeight),v=a/n,y=i/e,o.style.position="relative",o.style.overflow="hidden",r.style.position="absolute",r.style.top=r.style.left=0,p=1>v,w=1>y,f=null,h=!1,x={X:0,Y:0},d=function(t,e,r){return t.preventDefault(),h=e,f=t,o.classList.add("show-scrollbar"),r.classList.add("moving")},p&&(g=o.querySelector(".mscr-track-h"),s=g.querySelector(".mscr-drag-h"),g.style.position="absolute",g.style.bottom=g.style.left=0,g.style.height=t.gutter+"px",s.style.position="absolute",s.style.top=s.style.left=0,s.style.height=t.gutter+"px",v=(a-parseInt(t.gutter))/n,I=a,w&&(I-=parseInt(t.gutter)),g.style.width=I+"px",s.style.width=~~(I*v)+"px",s.addEventListener("mousedown",function(t){return d(t,"X",this)})),w&&(m=o.querySelector(".mscr-track-v"),l=m.querySelector(".mscr-drag-v"),m.style.position="absolute",m.style.top=m.style.right=0,m.style.width=t.gutter+"px",l.style.position="absolute",l.style.top=l.style.left=0,l.style.width=t.gutter+"px",l.addEventListener("mousedown",function(t){return d(t,"Y",this)}),y=(i-parseInt(t.gutter))/e,u=i,p&&(u-=t.gutter),m.style.height=u+"px",l.style.height=~~(u*y)+"px"),document.addEventListener("mouseup",function(t){return t.preventDefault(),h=!1,o.classList.remove("show-scrollbar"),p&&(s.classList.remove("moving"),x.X=parseInt(s.style.left)),w?(l.classList.remove("moving"),x.Y=parseInt(l.style.top)):void 0}),document.addEventListener("mousemove",function(t){return h&&null!=f?c(parseInt(t["page"+h])-parseInt(f["page"+h])):void 0}),L=function(e){return e.preventDefault(),null!=e.originalEvent&&(e=e.originalEvent),o.classList.add("show-scrollbar"),h=e.shiftKey||e.wheelDeltaX?"X":"Y",c(t.pad*((e.wheelDelta||-e.detail)<0?1:-1)),h=!1,o.classList.remove("show-scrollbar"),p&&(x.X=parseInt(s.style.left)),w&&(x.Y=parseInt(l.style.top)),!1},o.addEventListener("mousewheel",L,!1),o.addEventListener("DOMMouseScroll",L,!1),c=function(t){var e,n,i;if(t+=x[h],"X"===h){if(null!=g&&null!=s)return e=t,n=parseInt(g.offsetWidth)-parseInt(s.offsetWidth),e>n&&(e=n),0>e&&(e=0),s.style.left=e+"px",r.style.left=parseInt(-e/v)+"px"}else if(null!=m&&null!=l)return i=t,n=parseInt(m.offsetHeight)-parseInt(l.offsetHeight),i>n&&(i=n),0>i&&(i=0),l.style.top=i+"px",r.style.top=parseInt(-i/y)+"px"},this},t.prototype.sort=function(t,e){var r,n,s,l;for(null==t&&(t="text"),null==e&&(e="ASC"),e=e.toUpperCase(),r=Array.prototype.slice.call(this.children,0),r.sort(function(r,n){var s,l,i,o;return l=t.slice(1,-1),i="text"!==t?r.getAttribute(l):r.innerHTML,o="text"!==t?n.getAttribute(l):n.innerHTML,s="ASC"===e?1:-1,null==i&&(i=""),null==o&&(o=""),s*i.localeCompare(o)}),l=0,s=r.length;s>l;l++)n=r[l],this.element.appendChild(n);return this.populate()}}).call(this);