(function(){var t;t=function(){function t(t,e){var s,r,n;return this.options=null!=e?e:{},s=document.querySelectorAll(t),n=[],Array.prototype.forEach.call(s,function(t){return function(e){return n.push(t._init(e))}}(this)),r=n.length,r?1===r?n[0]:void 0:null}return t.prototype._init=function(t){return this.element=t,this.populate()},t.prototype.populate=function(){var t,e,s,r;for(this.children=[],r=this.element.children,e=0,s=r.length;s>e;e++)t=r[e],8!==t.nodeType&&this.children.push(t);return this.actives=this.children,this.view()},t.prototype.view=function(t,e){return null==t&&(t=0),null==e&&(e=0),t=parseInt(t),Array.prototype.forEach.call(this.children,function(t){return t.style.display="none"}),Array.prototype.forEach.call(this.actives,function(){return function(s,r){return!t||t&&r>=e&&t+e>r?s.style.display="":void 0}}(this)),this},t}(),this.Masis=t,t.prototype.scroll=function(t){var e,s,r,n,l,i,o,a,u,p,h,c,d,y,f,v,g,m,w,I,L,x;return null==t&&(t={}),null==t.gutter&&(t.gutter=10),null==t.pad&&(t.pad=10),o=this.element,o.innerHTML='<div class="mscr-content">'+o.innerHTML+"</div>",o.innerHTML+='<div class="mscr-track-h"><div class="mscr-drag-h"/></div>',o.innerHTML+='<div class="mscr-track-v"><div class="mscr-drag-v"/></div>',s=o.querySelector(".mscr-content"),s.style.width=o.offsetWidth+"px",s.style.height=o.offsetHeight+"px",null!=t.height&&(o.style.height=t.height),null!=t.width&&(o.style.width=t.width),r=parseInt(s.offsetWidth),e=parseInt(s.offsetHeight),a=parseInt(o.offsetWidth),i=parseInt(o.offsetHeight),v=a/r,f=i/e,o.style.position="relative",o.style.overflow="hidden",s.style.position="absolute",s.style.top=s.style.left=0,p=1>v,w=1>f,y=null,c=!1,x={X:0,Y:0},d=function(t,e,s){return t.preventDefault(),c=e,y=t,o.classList.add("show-scrollbar"),s.classList.add("moving")},p&&(g=o.querySelector(".mscr-track-h"),n=g.querySelector(".mscr-drag-h"),g.style.position="absolute",g.style.bottom=g.style.left=0,g.style.height=t.gutter+"px",n.style.position="absolute",n.style.top=n.style.left=0,n.style.height=t.gutter+"px",v=(a-parseInt(t.gutter))/r,I=a,w&&(I-=parseInt(t.gutter)),g.style.width=I+"px",n.style.width=~~(I*v)+"px",n.addEventListener("mousedown",function(t){return d(t,"X",this)})),w&&(m=o.querySelector(".mscr-track-v"),l=m.querySelector(".mscr-drag-v"),m.style.position="absolute",m.style.top=m.style.right=0,m.style.width=t.gutter+"px",l.style.position="absolute",l.style.top=l.style.left=0,l.style.width=t.gutter+"px",l.addEventListener("mousedown",function(t){return d(t,"Y",this)}),f=(i-parseInt(t.gutter))/e,u=i,p&&(u-=t.gutter),m.style.height=u+"px",l.style.height=~~(u*f)+"px"),document.addEventListener("mouseup",function(t){return t.preventDefault(),c=!1,o.classList.remove("show-scrollbar"),p&&(n.classList.remove("moving"),x.X=parseInt(n.style.left)),w?(l.classList.remove("moving"),x.Y=parseInt(l.style.top)):void 0}),document.addEventListener("mousemove",function(t){return c&&null!=y?h(parseInt(t["page"+c])-parseInt(y["page"+c])):void 0}),L=function(e){return e.preventDefault(),null!=e.originalEvent&&(e=e.originalEvent),o.classList.add("show-scrollbar"),c=e.shiftKey||e.wheelDeltaX?"X":"Y",h(t.pad*((e.wheelDelta||-e.detail)<0?1:-1)),c=!1,o.classList.remove("show-scrollbar"),p&&(x.X=parseInt(n.style.left)),w&&(x.Y=parseInt(l.style.top)),!1},o.addEventListener("mousewheel",L,!1),o.addEventListener("DOMMouseScroll",L,!1),h=function(t){var e,r,i;return t+=x[c],"X"===c?(e=t,r=parseInt(g.offsetWidth)-parseInt(n.offsetWidth),e>r&&(e=r),0>e&&(e=0),n.style.left=e+"px",s.style.left=parseInt(-e/v)+"px"):(i=t,r=parseInt(m.offsetHeight)-parseInt(l.offsetHeight),i>r&&(i=r),0>i&&(i=0),l.style.top=i+"px",s.style.top=parseInt(-i/f)+"px")},this}}).call(this);